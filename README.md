# Rensou Gamers Project - Hybrid AI System

## 📌 プロジェクト情報
* **System Core:** Ver 1.0 (基礎完成版 / F9停止機能付)
* **OBS Script:** Ver 1.6 (設定強制固定版)
* **App System:** Ver 1.0 (初級・上級モード完全対応版)
* **最終更新日:** 2025年12月02日

## 📖 プロジェクト概要
本システムは、生配信用の「**AIホストシステム**」と、リスナー参加用の「**トレーニングアプリ**」を統合したハイブリッド環境です。
配信（PC）とアプリ（スマホ）で共通の「脳みそデータ」を使用することで、完全に連動したゲーム体験と学習環境を提供します。

---

## 1. 共通データ（システムの核）
| ファイル名 | 役割 | 解説 |
| :--- | :--- | :--- |
| **microwave_data.json** | 知識データ (脳) | **絶対的なマスターデータ。**<br>質問に対する回答(Yes/No)を管理します。<br>配信とアプリ上級モードで共通して使用されます。 |

## 2. 配信システム (Host System)
**対象環境:** PC / OBS Studio

| ファイル名 | 役割 | 解説 |
| :--- | :--- | :--- |
| **main.py** | 制御プログラム | マイク音声を監視するシステムの中枢。<br>音声認識(LocalVocal)の結果を受け取り、回答を生成します。<br>F9キーでシステムの一時停止/再開が可能です。 |
| **auto_wav_player.lua** | OBS制御スクリプト<br>(Ver 1.6) | Pythonからの指示(`next_wav_path.txt`)を監視し、メディアソースの再生とアバターの口パク制御を行います。<br>設定を強制固定し、再生事故を防ぐ安定版。 |
| **audio/** | 音声素材 | AIの回答ボイスが格納されています。 |

## 3. アプリシステム (Training App)
**対象環境:** スマートフォン / Webブラウザ / Streamlit Cloud

| ファイル名 | 役割 | 解説 |
| :--- | :--- | :--- |
| **app.py** | Webアプリ本体 | **Ver 1.0 完成版。**<br>「初級モード(ドリル)」と「上級モード(実戦チャット)」を搭載。<br>初級は教科書通りに、上級は脳みそ(microwave_data)直結で動作します。 |
| **training_data.json** | 初級用データ | **初級モード専用の教科書。**<br>音読練習用の正しい英文フレーズリストです。 |
| **questions_template.json** | 上級用メニュー | **上級モード用テンプレート。**<br>アプリ内でのカテゴリ定義などに使用されます。 |
| **requirements.txt** | 依存ライブラリ | クラウドデプロイ用の設定ファイル (`streamlit` 等)。 |

## 4. 一時ファイル (Runtime Files)
※ `main.py` 実行時に自動生成・更新されます。

| ファイル名 | 役割 | 解説 |
| :--- | :--- | :--- |
| **current_question.txt** | 入力 (耳) | LocalVocal(Whisper)が認識したテキストが書き込まれます。 |
| **next_wav_path.txt** | 出力 (口) | Pythonが決定した「次に再生するWAVファイルのパス」が書き込まれます。 |
| **thinking_state.txt** | 状態 (表情) | 現在のAIの状態を数値管理します。<br>0: 待機中 / 1: 考え中 / 2: 一時停止(F9) |

---

## 🎮 起動・操作方法

### 【配信システムの起動 (PC)】
1. **OBS** を起動し、スクリプトに `auto_wav_player.lua` を設定する。
2. **Python環境** で `main.py` を実行する。
   ```bash
   python main.py